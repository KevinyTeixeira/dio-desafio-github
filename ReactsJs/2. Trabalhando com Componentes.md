# üìö Trabalhando com Componentes



## :zap: 1. Iniciando nosso primeiro projeto **`React`**

Agora √© o momento de **iniciar o projeto**! 

A primeira coisa que fiz, foi criar um projeto nesta pasta com o nome <u>***dio-learning-project***</u>, utilizando o comando `npx create-react-app dio-learning-project`. Em seguida, fiz algumas configura√ß√µes adicionais no `.gitignore`, para garantir que arquivos desnecess√°rios n√£o subam para o reposit√≥rio do Github. Agora, vou listar abaixo quais arquivos que o comando `create-react-app` traz como pr√©-configura√ß√µes para o nosso projeto, para garantir que todos eles sejam compreendidos.

### - Arquivos Iniciais de Projeto :file_folder:

‚Äã	Ao utilizarmos o comando do `create-react-app`, o script executado faz uma s√©rie de pr√©-instala√ß√µes e configura√ß√µes para come√ßar bem o nosso projeto. Mas sem entender o que obtivemos com isso, n√£o haver√° utilidade certo? Por isso, vou listar abaixo quais arquivos o script retorna como pr√©-configura√ß√µes para o nosso projeto, para garantir que todos eles sejam compreendidos.

- :open_file_folder:**node_modules**: √© a pasta em que fica todas as depend√™ncias do projeto para rodar o `React`. Ela √© comumente adicionada ao `.gitignore` porque facilmente o desenvolvedor pode instalar novamente essas depend√™ncias ao importar um projeto, bastando apenas inserir o comando `npm i` no Node.
- :open_file_folder:**public**:  esta pasta tem rela√ß√£o direta com o mecanismo de funcionamento do `webpack`, pois os arquivos inclu√≠dos aqui s√£o ignorados pelo seu empacotamento. Entretanto, √© respons√°vel por guardar alguns arquivos importantes.
  - **`index.html`**: arquivo principal, somente os arquivos que estiverem nesta pasta podem ser vistos pelo index.html. Nela tamb√©m podemos configurar o t√≠tulo da p√°gina, e encontrar a `id='root'`, elemento que nos permite invocar nossa p√°gina do React. 
  - **`manifest.json`**: arquivo respons√°vel por comunicar ao navegador sobre como nossa aplica√ß√£o deve se comportar ao ser instalada no desktop ou dispositivo m√≥vel do usu√°rio, para mais **[consulte aqui](https://web.dev/add-manifest/)**.  
  - Os demais arquivos **s√£o descart√°veis**, servem apenas para manter a p√°gina modelo.

- :open_file_folder:**src**:  esta pasta √© a respons√°vel por guardar todo o nosso "source code" (ou c√≥digo fonte) do nosso projeto. Tamb√©m √© dentro dela que comumente √© criada a pasta **`components`**, a qual guardamos todos os componentes react.

  - **`index.js`**: este arquivo √© o respons√°vel por estabelecer o "v√≠nculo"  entre nosso arquivo HTML e o React. Esse v√≠nculo √© criado quando o ReactDOM renderiza toda nossa p√°gina sobre o elemento id root, e passa para execu√ß√£o nosso componente de entrada, que a princ√≠pio √© o App.js.

  - **`App.js`**: esse √© nosso primeiro componente de partida. Ele √© por exibir a tela inicial do React, utilizando-se tamb√©m do `App.css`.

  - **`App.test.js`**: para testar a aplica√ß√£o;

  - **`index.css`**: esse arquivo √© o respons√°vel por gerar o css n√£o apenas para um componente, mas para **toda a aplica√ß√£o**.

  - **`reportWebVitals.js`**:  **web vitals** √© um mecanismo para identificar sinais de qualidade da nossa p√°gina avaliando a experi√™ncia que o usu√°rio est√° tendo ao navegar nele, esse √© um t√≥pico futuro. Para mais informa√ß√µes, [**consulte aqui**](https://web.dev/i18n/pt/vitals/).

  - **`setupTests.js`**: respons√°vel por configurar nossos testes usando `Jest`, um t√≥pico futuro.

    

## :hotsprings: 2. Componentes

‚Äã	Em exemplos anteriores, estivemos usando as tags `<div></div>` para "empacotar" nosso c√≥digo de exibi√ß√£o do `React`. Entretanto, saiba que existe o **React Fragment**, conceito que permite empacotar nosso c√≥digo utilizando tags vazias `<></>`, com isso teremos componentes mais limpos. 

‚Äã	Outro ponto importante √© que voc√™ se lembre dos exemplos mostrados no t√≥pico **`2.5 props`** dos registros relacionados a Introdu√ß√£o do React, que trata sobre a dinamicidade dos nossos componentes pois adicionalmente vamos evoluir esse conceito.

‚Äã	**Importante:** como boa pr√°tica, todo c√≥digo a partir deste momento ser√° feito em **ingl√™s**, a fim de ampliar a gama de interpreta√ß√µes dos c√≥digos.



### - 1¬∫ Code Implementation :u6e80:

‚Äã	Seguindo os exemplos da DIO, vamos importar uma biblioteca de estilos conhecida como **[Bootstrap](https://getbootstrap.com/)** para estilizar um componente que vamos chamar de [**`ItemList`**](https://getbootstrap.com/docs/5.1/components/list-group/), em seguida criar o componente lista de forma din√¢mica e import√°-lo no nosso componente principal **`App.js`**.

```javascript
// 1¬∫ Code Implementation
// COMPONENT: App.js
// OBJ: in our first implementation, we will code a dynamic component calling 'ItemList', and by using props, we will import it to our App.js component and use it. The 'ItemList' component must use a Bootstrap css.

import ItemList from './components/ItemList';

// Note: every component must start with the first letter in UPPERCASE, after that use CamelCase.
// Note2: remember to import the css in our index.html file, in public>index.html. The import link can be obtained from the official Bootstrap page.

const App = () => {
	return (
        <>
			<h1>My first app using react</h1>
        	<ul>
        		<ItemList text="Item1">
        	</ul>
        </>
	)
}
```

```javascript
// 1¬∫ Code Implementation
// COMPONENT: ItemList.js
// OBJ: in our first implementation, we will code a dynamic component calling 'ItemList', and by using props, we will import it to our App.js component and use it. The 'ItemList' component must use a Bootstrap css.

const ItemList = ({text}) => { // using destructuring, the 'props' can be writing more simple!
	return (
        <>
			<a href="/" className="list-group-item list-group-item-action list-group-item-light">
	        	{text}
			</a>
        </>
	)
}
```

‚Äã	No `React` uma coisa se torna clara, a **rela√ß√£o de parentesco entre os elementos HTML**, esse entendimento nos permite criar tags que utilizem a **abertura** e o **fechamento**, nos permitindo passar o texto entre as tags, tal como funciona a tag `<p>text<p>` por exemplo.  Para ficar mais claro veja:

```html
<div> <!-- 'This is a father' -->
    <h1>Title</h1> <!-- 'This is a children' -->
    <p>Paragraph</p> <!-- 'This is a children' -->
</div>
```



### - 2¬∫ Code Implementation :u6e80:

‚Äã			Aproveitando-se desse entendimento, no `React` n√≥s podemos fazer uso desse conceito e substituir **`props`** por **`children`**, para que o componente entenda que o **valor ser√° repassado entre as tags**.

```javascript
// 2¬∫ Code Implementation
// COMPONENT: App.js
// OBJ: we will update our code to receive our text item by the 'children' property, instead of props.

import ItemList from './components/ItemList';

const App = () => {
    return (
        <>
            <h1>My first app using React</h1>
            <ul>
                <ItemList> // Using children property, now we need a close tag
                    Item 1
                </ItemList>
            </ul>
        </>
    )
}
```

```javascript
// 2¬∫ Code Implementation
// COMPONENT: ItemList.js
// OBJ: we will update our code to receive our text item by the 'children' property, instead of props.

const ItemList = ({children}) => {
    return (
    	<a href="/" className='list-group-item list-group-item-action list-group-item-light'>
        	{children}
		</a>
    )
}

export default ItemList;
```



### - 3¬∫ Code Implementation :u6e80:

‚Äã	Mesmo com esse conceito de **`children`**, nada impede de somarmos ao **`props`** para que essas tags possuem tamb√©m a capacidade de ajustar seus atributos. Abaixo, vamos permitir que nossa tag possua o atributo **link**.

```javascript
// 3¬∫ Code Implementation
// COMPONENT: App.js
// OBJ: we will update our code to, in addition to using the 'children' property, use props to adjust the link in the TAG attribute too.

import ItemList from './components/ItemList';

const App = () => {
    return (
        <>
            <h1>My first app using React</h1>
            <ul>
                <ItemList link="/"> // Now, we can insert link in our tag!
                    Item 1
                </ItemList>
            </ul>
        </>
    )
}
```

```javascript
// 3¬∫ Code Implementation
// COMPONENT: ItemList.js
// OBJ: we will update our code to, in addition to using the 'children' property, use props to adjust the link in the TAG attribute too.

const ItemList = ({link, children}) => {
    return (
    	<a href={link} className='list-group-item list-group-item-action list-group-item-light'>
        	{children}
		</a>
    )
}

export default ItemList;
```



### - 4¬∫ Code Implementation :u6e80:

‚Äã	Agora, vamos criar outro componente, o qual ser√° chamado de **`ItemCard`**, e mais uma vez dever√° ser baseado em um css do **Bootstrap**.

```javascript
// 4¬∫ Code Implementation
// COMPONENT: App.js
// OBJ: we will code a other component called 'ItemCard'. We will import it to our App.js component and use it. The 'ItemCard' component must use a Bootstrap css.

import ItemList from './components/ItemList';
import ItemCard from './components/ItemCard';

const App = () => (
    <>
        <h1>My first app using React</h1>
        <ul>
            <ItemList link="/">
                Item 1
            </ItemList>
        </ul>
        <ItemCard/> // For a component that does not use 'children', the slash must be inserted at the end of the name. 
    </>
)
```

```javascript
// 4¬∫ Code Implementation
// COMPONENT: ItemCard.js
// OBJ: we will code a other component called 'ItemCard', and by using props, we will import it to our App.js component and use it. The 'ItemCard' component must use a Bootstrap css.

// Note: the code base are collected on main website of bootstrap.

const ItemCard = () => (
	<div className="card">
		<div className="card-header">
			Meu primeiro card
		</div>
		<div className="card-body">
			Meu primeiro card
		</div>
	</div>
)

export default ItemCard;
```



### - 5¬∫ Code Implementation :u6e80:

‚Äã	Agora, vamos atualizar o nosso c√≥digo para incluir os **bot√µes (Adicionar e Remover)** no nosso componente, para que com eles, possamos alterar um n√∫mero na p√°gina. O componente **`App.js`** permanece o **mesmo implementado anteriormente**.

```javascript
// 5¬∫ Code Implementation
// COMPONENT: ItemCard.js
// OBJ: now, we will update our code to include buttons (add and remove) in our component that will modify a number on the page. The App.js keeps the same as the last implementation.

import ItemList from './components/ItemList';
import ItemCard from './components/ItemCard';

const ItemCard = () => {

	return (
		<div className="card">
			<div className="card-header">
				Meu primeiro card
			</div>
			<div className="card-body">
				<button type="button" className="btn btn-success">Adicionar</button>
				<button type="button" className="btn btn-danger">Remover</button>
				<p>{number}</p> <!-- The number will be effected by our buttons -->
			</div>
		</div>
	)
}

export default ItemCard;
```

‚Äã	Agora para prosseguir, devemos entender o que √© o **`State`** do `React`. Adicionalmente, leia sobre **[React-Hooks](https://pt-br.reactjs.org/docs/hooks-intro.html)**, o **`State`** faz parte de um mundo maior de informa√ß√µes.

‚Äã	**`State`**, pode ser compreendido como um **"estado" tempor√°rio de alguma coisa**, que √© mantido durante a execu√ß√£o da aplica√ß√£o. Esse estado, pode iniciar com um valor e em seguida ser alterado como desejar, entretanto, **por ser tempor√°rio** ele **voltar√° ao estado normal caso a aplica√ß√£o seja reiniciada**.



### - 6¬∫ Code Implementation :u6e80:

‚Äã	Agora, usando o '**state**' do react, vamos trabalhar para que o n√∫mero dentro da tag `<p>` seja afetado ao clicar nos nossos bot√µes. O componente **`App.js`** permanece o **mesmo implementado anteriormente**.

```javascript
// 6¬∫ Code Implementation
// COMPONENT: ItemCard.js
// OBJ: now, using the 'state' from react, we change the number value inside <p> by clicking on our buttons.

import ItemList from './components/ItemList';
import ItemCard from './components/ItemCard';
import { useState } from 'react'; // importing 'State' from react, using destructuring to import only 'State'.

const ItemCard = () => {
    
	const [number, setNumber] = useState(0); // our state will start with 0 value;

	return (
		<div className="card">
			<div className="card-header">
				Meu primeiro card
			</div>
			<div className="card-body">
				<button 
				type="button"
				className="btn btn-success" 
        		<!-- The code seems to work, but with some issues... -->
				onClick={(event) => {setNumber(event.target.value + 1)}}
				>Adicionar</button>
				<button
				type="button"
				className="btn btn-danger"
        		<!-- The code seems to work, but with some issues... -->
				onClick={(event) => {setNumber(event.target.value - 1)}}
				>Remover</button>
				<p>{number}</p>
			</div>
		</div>
	)
}

export default ItemCard;
```



### - 7¬∫ Code Implementation :u6e80:

‚Äã	O c√≥digo funciona, mas o comportamento n√£o foi o esperado. Vamos implementar **fun√ß√µes para resolver o problema**. O componente **`App.js`** permanece o **mesmo implementado anteriormente**.

```javascript
// 7¬∫ Code Implementation
// COMPONENT: ItemCard.js
// OBJ: fix issues from our buttons, use functions to solve the problems.

import ItemList from './components/ItemList';
import ItemCard from './components/ItemCard';
import { useState } from 'react'; // importing 'State' from react, using destructuring to import only 'State'.

const ItemCard = () => {

	const [number, setNumber] = useState(0) ;

	function increaseNumber(){
		setNumber(number + 1);
	}

	function decreaseNumber(){
		setNumber(number - 1);
	}
	
	return (
		<div className="card">
			<div className="card-header">
				Meu primeiro card
			</div>
			<div className="card-body">
				<button
                    type="button"
                    className="btn btn-success"
                    onClick={increaseNumber}>
                    Adicionar
                  </button>
				<button
                    type="button"
                    className="btn btn-danger"
                    onClick={(event) => {setNumber(event.target.value - 1)}}
                    onClick={decreaseNumber}>
                    Remover
				</button>
				<p>{number}</p>
			</div>
		</div>
	)
}

export default ItemCard;
```



### - 8¬∫ Code Implementation :u6e80:

‚Äã	A "componetiza√ß√£o" do `React` √© a chave para essa biblioteca. Atualmente o bot√£o faz parte do nosso componente **`ItemCard`**, n√£o acha que o bot√£o deveria ser um **componente independente**? Utilizando-se de tudo o que foi aprendido at√© aqui, vamos criar um componente pr√≥prio entitulado como **`Button`**, o qual deve possuir dinamicidade tanto em seu nome, como na classe (para que possamos alterar entre **success** e **danger**).

```javascript
// 8¬∫ Code Implementation
// COMPONENT: Button.js
// OBJ: let's create a component called 'Button', to store our buttons and use it on ItemCard.js with ClassName, onClick by tag attribute and Children for the name. After that, let's update our ItemCard.js.

const Button = ( {children, className, onClick} ) => {
  return (
    <>
      <button
          type="button"
          className={className}
          onClick={onClick}>
          {children}
      </button>
    </>
  )
}

export default Button;
```

```javascript
// 8¬∫ Code Implementation
// COMPONENT: ItemCard.js
// OBJ: let's create a component called 'Button', to store our buttons and use it on ItemCard.js with ClassName, onClick by tag attribute and Children for the name. After that, let's update our ItemCard.js.

import { useState } from 'react';
import Button from '../components/Button'

const ItemCard = () => {

	const [number, setNumber] = useState(0) ;

	function increaseNumber(){
		setNumber(number + 1);
	}

	function decreaseNumber(){
		setNumber(number - 1);
	}
	
	return (
		<div className="card">
			<div className="card-header">
				My First Card
			</div>
			<div className="card-body">
				<Button
					className="btn btn-success"
					onClick={increaseNumber}>
					Increase
				</Button>
				<Button
					className="btn btn-danger"
					onClick={decreaseNumber}>
					Increase
				</Button>
				<p>{number}</p>
			</div>
		</div>
	)
}

export default ItemCard;
```

