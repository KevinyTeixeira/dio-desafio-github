# üìö Desenvolvimento de Aplica√ß√µes para Internet com ReactJs

Dando prosseguimento ao nosso conte√∫do acerca do `React`, vamos nos aprofundar mais no uso desta biblioteca (ou framework, como preferir).



## :art: 1. Estiliza√ß√£o de Componentes

At√© o presente momento, temos visto a estiliza√ß√£o dos elementos sempre utilizando os arquivos `css`, ou importando frameworks como o `Bootstrap`. Entretanto, h√° **3 formas de se estilizar componentes no `React`**.



### 	1.1 **`INLINE`**

‚Äã	Esta √© a forma mais b√°sica de se estilizar um componente no `React`, usando a tag `style`. N√≥s criamos um objeto, cujas propriedades representam os ajustes de estilo desejados, em seguida a declara√ß√£o de `style` **recebe esse objeto**.

```javascript
// Using INLINE method to style our components
const divStyle = {
    color: 'blue',
    backgroundImage: 'url(' + imgUrl + ')'
};

function HelloWorldComponent() {
    return <div style={divStyle}>Hello World!</div>;
}
```

‚Äã	Outra forma √© estilizar o `style` diretamente, tal como o exemplo abaixo:

```javascript
// Using direct INLINE method to style our components
function App() {
    return(
        	<HelloWorld style={{ marginTop: '10px'}} />
        )
}
```

‚Äã	Lembrando que um **ponto significativamente negativo** desse m√©todo, √© a **dificuldade de manuten√ß√£o** de estilos que s√£o aplicados desta forma. Portanto, priorize outros m√©todos e use o `inline` somente em casos pontuais e espec√≠ficos.



### 	1.2 **`CLASSES`**

‚Äã	Nosso queridinho m√©todo convencional, estilizando nossos componentes no CSS (podendo ser de **forma individualizada**, ou **coletiva** para toda a aplica√ß√£o) e importando-os logo em seguida no componente.

```css
/* Using CSS method to style our components */
.div-style {
    color: blue;
    background: url('https://ourbackgroundurl')
}
```

```javascript
/* Using CSS method to style our components */
import '.HelloWorldComponent.css';

function HelloWorldComponent() {
    return <div className="div-style"</div>;
}
```

‚Äã	Segundo a DIO, o que pode te surpreender assim como me surpreendeu, √© que esse m√©todo tamb√©m traz **pontos negativos**: dif√≠cil manuten√ß√£o, pouca flexibilidade e conflito com nomes;



### 	1.3 **`CSS IN JS (Styled Components)`**

‚Äã	O [**`Styled Components`**](https://styled-components.com/) √© um m√©todo inovador, ele exige que voc√™ instale a depend√™ncia atrav√©s do **npm**(ou **Yarn**, consulte a documenta√ß√£o) com o comando **`npm install --save styled-components`**.

‚Äã	Com esse m√©todo, lhe √© permitido criar os chamados "**componentes de estilo**", que como componentes, te permite dinamizar o comportamento e flexibilizar o CSS nos componentes que desejar aplicar (usando os **props**). As crases (``), aqui s√£o conhecidas como "**Tagged Template Litteral**", a partir dele voc√™ poder√° usar o CSS no JavaScript e ainda utilizar os **props**!

```javascript
// Using Style-Components method to style our components
// '.div' define the element who will be used and styled
const DivStyle = styled.div`
    color: 'blue',
    backgroundImage: url('${props => props.imageUrl}');
`;

function HelloWorldComponent() {
    const url = 'https://ourbackgroundurl';
    return <DivStyle imageUrl={url}>Hello World!</DivStyle>;
}
```

‚Äã	Esse, segundo a DIO, √© a melhor forma de estilizar nossos componentes, pois apresenta os seguintes **pontos positivos**: facilidade de manuten√ß√£o, performance e inje√ß√£o autom√°tica de prefixos vendor;



## :high_brightness: 2. Stateful vs Stateless

Segundo a DIO, antes do que chamamos de [**`hooks`**](https://www.zup.com.br/blog/reacthooks#:~:text=Resumidamente%2C%20hooks%20s%C3%A3o%20uma%20nova,na%20vers%C3%A3o%2016.8%20do%20React.) serem adotados, era comum ouvirmos os termos **`Stateful`** e **`Stateless`**, esses termos, basicamente representam os **"estados" de elementos da aplica√ß√£o**. Se lembra do **`State`** utilizado para controlar a fun√ß√£o dos nossos bot√µes? Ent√£o, tem tudo a ver. Vamos conferir:



### 2.1 Stateful

- **`Stateful`**: possui gerencimento de estados de componente, o qual acontece atrav√©s do uso do `state`. Ele tamb√©m possui um ciclo de vida, cujos estados envolvem sequencialmente: 
  - **`1¬∫ Initialization`**: declara os estados iniciais do `props` e do `state`;
  - **`2¬∫ Mounting`**: o componente √© montado e renderizado;
  - **`3¬∫ Updation`**: permite a manipula√ß√£o dos componentes atrav√©s de `props` ou mudan√ßas de estado `States`;
  - **`4¬∫ Unmounting`**: faz a desmontagem;

```javascript
// COMPONENT: TodoListStatefull.js
// OBJ: DIO 'Statefull' example.

import React, { Component } from 'react';

class TodoListStatefull extends Component {
    
    constructor(props) {
        super(props);
        this.state = {
            items: [
                'Tomato',
                'Lettuce',
                'Watermelon'
            ]
        }
    }
    
    addItem = (item) => {
        /*
            [...this.state.items, item] is the same as:
            let itemsUpdated = this.state.items;
            itemsUpdated.push(item);
            this.setState({ items: itemsUpdated });
        */
        this.setState({items: [...this.state.items, item]});
    }
    
    removeItem = () => {
        /*
            [...this.state.items, slice(1)] is the same as:
            let itemsUpdated = this.state.items;
            itemsUpdated.pop();
            this.setState({ items: itemsUpdated });
        */
        this.setState({items: [...this.state.items, slice(1)]});
    }
    
    render() {
        const { items } = this.state;
        return (
        	<div className="block-list">
            	<p>My ClassName List</p>
            	<ul className="styled-list">
            		{items.map(item => <li>{item}</li>)}
				</ul>
				<button onClick={() => this.addItem('Pumpkin')}>Add item</button>
				<button onClick={() => this.removeItem('')}>Remove item</button>
        )
    }
}
```

‚Äã	Perceba que para usar o **`Statefull`** √© uma programa√ß√£o bem verbosa. Isso pode ser simplificado.



### 2.2 Stateless

- **`Stateless`**: ao contr√°rio, √© um estado fixo e n√£o gerenci√°vel. Seu objetivo principal √© renderizar elementos fixos, mas como n√£o precisamos utilizar **`State`**, tudo aqui √© significativamente mais f√°cil.

```javascript
// COMPONENT: TodoListStateless.js
// OBJ: DIO 'Stateless' example.

import React from 'react';

const TodoListStateless = {{items}} => {
    <div className="block-list">
        <p>My Stateless List</p>
    	<ul className="styled-list">
            {items.map(item => <li>{item}</li>)}
    	</ul>
    </div>
};

export default TodoListStateless;
```

‚Äã	Certo, mas e agora, existe jeito mais f√°cil? **Sim!** 



### 2.3 Function Components

‚Äã	Em 2018 com a implementa√ß√£o do **`React Hooks`**, foi criado o que √© chamado de **"`Class Components`"** ou ainda **"`Function Components`"**. Com isso, os estados agora podem ser manipul√°veis em fun√ß√µes! A grande diferen√ßa pr√°tica √© que ao inv√©s de alterarmos o state usando `this.state`, agora utilizamos **setNomeDoEstado**.

```javascript
// COMPONENT: TodoListFunctional.js
// OBJ: DIO 'Function Components' example.

import React, { useState } from 'react'; // useState is a 'Hook' property to create states

const TodoListFunctional = () => {
    
    // useState have [stateName, setterFunction] = useState([state init])
    const [items, setItems] = useState(['Tomato', 'Lettuce', 'Watermelon']);
    const addItem = (item) => {
        setItems([...items, item]);
    }
    
    const removeItem = () => {
        setItems([...items.slice(1)]);
    }
    
    return (
    	<div className="block-list"	>
        	<p>My List</p>
        	<ul className="styled-list">
        		{items.map(item => <li>{item}</li>)}
			</ul>
			<button onClick={() => addItem('Pumpkin')}>Add Item</button>
			<button onClick={() => removeItem()}>Remove Item</button>
		</div>
    );    
}
```



## :bookmark_tabs: 3. Formul√°rios

J√° entenda o seguinte, formul√°rios s√£o verbosos no **`React`** por se aterem ao HTML 5.

 Vamos agora abordar as formas de criar formul√°rios,  o "choque" ocorre devido ao fato de que algumas tags como **`<input>`**, **`<textarea>`** e **`<select>`** possuem um estado interno do pr√≥prio HTML 5, e como j√° vimos, **`React`** tamb√©m tem o seu pr√≥prio estado.



### 	3.1 Componente Controlado

‚Äã	√â considerado **`Componente Controlado`**, quando a orienta√ß√£o do estado dos elementos √© estabelecida a partir do **`state`** do `React`. Nesse modelo, voc√™ encontrar√° propriedades que visam "sincronizar" em tempo real, o `state do dado`, e as `entradas na UI`, essas propridades s√£o chamadas ao passar uma fun√ß√£o de "escuta", geralmente chamada de **`handle`** para atributos `onChange` da tag HTML, que s√£o fun√ß√µes que a cada altera√ß√£o nas inputs, recebe essa altera√ß√£o e mant√™m o dado atualizado no **`state`**.

![img](https://goshacmd.com/_next/image/?url=%2Fassets%2Fimages%2Fcontrolled-vs-uncontrolled%2Fcontrolled-flow.png&w=3840&q=75)

‚Äã	Um elemento se torna **`controlado`** quando voc√™ declara **`value={prop}`**, para que o valor estado receba esse valor, e **`onChange={prop}`**, para que a cada altera√ß√£o nosso estado seja atualizado. Cada elemento, possui um prop diferente para declarar o seu valor:

|           Element           | Value property (prop)  | Change callback | New value in the callback |
| :-------------------------: | :--------------------: | :-------------: | :-----------------------: |
|   `<input type="text" />`   |    `value="string"`    |   `onChange`    |   `event.target.value`    |
| `<input type="checkbox" />` |  `checked={boolean}`   |   `onChange`    |  `event.target.checked`   |
|  `<input type="radio" />`   |  `checked={boolean}`   |   `onChange`    |  `event.target.checked`   |
|       `<textarea />`        |    `value="string"`    |   `onChange`    |   `event.target.value`    |
|        `<select />`         | `value="option value"` |   `onChange`    |   `event.target.value`    |

‚Äã	Dessa forma, voc√™ consegue fazer formul√°rios com feedbacks mais inteligentes, como por exemplo:

 - **Desabilitar um bot√£o**, enquanto todos os campos n√£o tiverem sido validados;
 - **For√ßar um formato de entrada espec√≠fica**, como por exemplo n√∫meros de cart√µes de cr√©dito;
 - **Verificar em tempo real** se os **crit√©rios de entrada** est√£o sendo cumpridos e retornar esse feedback ao usu√°rio;

‚Äã	Vamos a um exemplo de um formul√°rio, criado com **`controlled components`**:

```javascript
// COMPONENT: NameForm.js
// OBJ: DIO form with 'controlled components' <input type='text'> example.

import React from 'react';

class NameForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = { value: '' }; // init state

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(event) {
    this.setState({ value: event.target.value }); // get init state from browser DOM
  }

  handleSubmit(event) {
    alert('The name sent was: ' + this.state.value);
    event.preventDefault();
  }

  render() {
    return (
      <form onSubmit={this.handleSubmit} style={{display: 'flex', flexDirection: 'column'}}>
        <label>
          Name:
          <input type="text" value={this.state.value} onChange={this.handleChange} />
        </label>
        <input type="submit" value="Submit" />
      </form>
    );
  }
}

export default NameForm;
```

```javascript
// COMPONENT: IceCreamForm.js
// OBJ: DIO form with 'controlled components' <input type='checkbox'>, <input type='radio'> and <select> example.

import React from 'react';

class IceCreamForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = { // init state
      flavors: 'uva',
      cone: true,
      napkin: 'yes'
    };

    this.handleInputChange = this.handleInputChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleInputChange(event) {
	// To refactor our handle function, we are test all types in one function and receive their values!
    const target = event.target;
    const value = target.type === 'checkbox' ? target.checked : target.value;
    const name = target.name;

    this.setState({
      [name]: value
    });
  }

  handleSubmit(event) {
    const { flavors, cone, napkin } = this.state;
    alert('Your flavors choosed is ' + flavors + ', napkin ' + napkin + ' and cone ' + cone);
    event.preventDefault();
  }

  render() {
    return (
      <form onSubmit={this.handleSubmit} style={{ display: 'flex', flexDirection: 'column' }}>
        <label>
          Choose a flavors:
            <select name="flavors" value={this.state.flavors} onChange={this.handleInputChange}>
            <option value="grape">Uva</option>
            <option value="lemon">Lim√£o</option>
            <option value="coconut milk">Coco</option>
            <option value="chocolate">Chocolate</option>
            <option value="strawberry">Morango</option>
          </select>
        </label>
        <label>
          <input type="checkbox" name="cone" checked={this.state.cone} onChange={this.handleInputChange} />
          Want cone?
          </label>
        <label>
          Napkin?
            <div className="radio">
            <label>
              <input type="radio" id="napkin" name="napkin" value="yes" checked={this.state.napkin === 'yes'} onChange={this.handleInputChange} />
              yes
              </label>
          </div>
          <div className="radio">
            <label>
              <input type="radio" id="napkin" name="napkin" value="no" checked={this.state.napkin === 'no'} onChange={this.handleInputChange} />
              no
              </label>
          </div>
        </label>
        <input type="submit" value="Submit" />
      </form>
    );
  }
}

export default IceCreamForm;
```



### 	3.2 Componente n√£o-Controlado

‚Äã	√â considerado **`Componente n√£o-Controlado`**, quando a orienta√ß√£o do estado dos elementos √© estabelecida a partir do **`state`** padr√£o do pr√≥prio `HTML`. Nesse modelo, voc√™ precisa usar o atributo `ref` das tags e em seguida repassar uma `props`, a qual ser√° respons√°vel por criar uma "refer√™ncia" com o comando `createRef()`. Dessa forma, n√≥s conseguimos obter o valor daquela TAG.

```javascript
// COMPONENT: FileInput.js
// OBJ: DIO form with 'uncontrolled components' example.

import React from 'react';

class FileInput extends React.Component {
  constructor(props) {
    super(props);
    this.handleSubmit = this.handleSubmit.bind(this);
    this.fileInput = React.createRef(); // create reference
  }
  handleSubmit(event) {
    event.preventDefault();
    alert(
      `Arquivo selecionado - ${
        this.fileInput.current.files[0].name
      }`
    );
  }

  render() {
    return (
      <form onSubmit={this.handleSubmit} style={{display: 'flex', flexDirection: 'column'}}>
        <label>
          Upload de arquivo:
          <input type="file" ref={this.fileInput} />
        </label>
        <br />
        <button type="submit">Enviar</button>
      </form>
    );
  }
}

export default FileInput;
```



### 	3.3 Conclus√£o

‚Äã	Para agregar esse conte√∫do, utilizei muitas informa√ß√µes de um comparativo feito pelo **Gosha Arinich**, o qual detalha as vantagens de usar um ou outro, bem como esclarece em quais situa√ß√µes eles devem ser utilizados. Voc√™ pode conferir esse conte√∫do [**aqui**](https://goshacmd.com/controlled-vs-uncontrolled-inputs-react/).

‚Äã	Para finalizar, abaixo um comparativo entre as fun√ß√µes que cada um dos tipos pode ou n√£o executar:

| feature                                                      | uncontrolled | controlled |
| ------------------------------------------------------------ | :----------: | :--------: |
| one-time value retrieval (e.g. on submit)                    |      ‚úÖ       |     ‚úÖ      |
| [validating on submit](https://goshacmd.com/submit-time-validation-react/) |      ‚úÖ       |     ‚úÖ      |
| [instant field validation](https://goshacmd.com/instant-form-fields-validation-react/) |      ‚ùå       |     ‚úÖ      |
| [conditionally disabling submit button](https://goshacmd.com/form-recipe-disable-submit-button-react/) |      ‚ùå       |     ‚úÖ      |
| enforcing input format                                       |      ‚ùå       |     ‚úÖ      |
| several inputs for one piece of data                         |      ‚ùå       |     ‚úÖ      |
| [dynamic inputs](https://goshacmd.com/array-form-inputs/)    |      ‚ùå       |     ‚úÖ      |



## :beginner: 4. `Flux`, `Redux` no ReactJs

### 4.1 Introdu√ß√£o ao `Flux`

‚Äã	Foi criada pelo **Facebook** para estabelecer uma comunica√ß√£o entre os componentes, cujo prop√≥sito era resolver um problema com a dessincroniza√ß√£o na quantidade de notifica√ß√µes do site. O **`Flux`** √© um **padr√£o de projeto para trafegar dados de maneira unidirecional**. Vamos passo a passo verificar como os m√≥dulos do flux tratam os dados (aqui referidos como **`Store`**):

- **`1¬∫ Action`**: funciona como um "tel√©grafo", ele **formata a mensagem a ser enviada para o `Dispatcher` em caso de altera√ß√µes e afins**.
- **`2¬∫ Dispatcher`**:  funciona como um "telefonista", ele sabe todos os callbacks para diferentes Stores, **ele √© quem determina para qual '`callback`' o '`Store`' ser√° enviado**.
- **`3¬∫ Store`**: √© como um "gerente super controlador", ele **guarda toda a informa√ß√£o** e **s√≥ permite** sua **altera√ß√£o** caso seja feita **por ele mesmo**.
- **`4¬∫ View`**: √© como um "gerente intermedi√°rio", ele √© um **intermedi√°rio entre o `Store` e a `Tela`**, √© ele quem **checa as altera√ß√µes do estado e informa ao React** que fa√ßa a altera√ß√£o no seu DOM.

‚Äã	Para dar vida a esse padr√£o, diversas implementa√ß√µes foram criadas para apoiar esse processo e o mais famoso deles √© o **`Redux`**. Suas fun√ß√µes s√£o estabelecer a **comunica√ß√£o entre os componentes** e **centralizar a informa√ß√£o** na **`Store`**.

‚Äã	**Observa√ß√£o:** O **`Store`** n√£o √© um armazenamento de informa√ß√µes, use-o somente para os dados que de fato precisarem ser compartilhados entre componentes.



### 4.2 **`Redux`**

‚Äã	Criada por **Dan Abramov** e **Andrew Clark** em 2015. O **`Redux`** √© uma implementa√ß√£o da arquitetura de **`Flux`**, entretanto, com algumas diferen√ßas.

<img src="https://miro.medium.com/max/1838/1*EdiFUfbTNmk_IxFDNqokqg.png" alt="Descubra como usar Redux sem React | by Renato Vieira | CITi | Medium" style="zoom:33%;" />

**Diferen√ßas:**

- **`Actions`** agora s√≥ **retornam os objetos formatados**; N√£o envia o **`Store`** para o **`Dispatcher`**.
- **N√£o existe mais** **`Dispatcher`**; uma vez que no conceito do `Redux`, somente uma √∫nica **`Store`** dever√° existir.
- **`Store`** agora **armazena uma √∫nica `Store`**, e **cuida de toda a √°rvore de estados**;
- **`Reducer`** agora fica respons√°vel por descobrir qual estado mudou; 
- **`View`** **agora √© chamada de** **`React`** ou **`UI`**, que possui 3 novos conceitos para manipular as conex√µes dos Stores: `provider`, `connect()` e `selector`;

**Comportamentos e Caracter√≠sticas:**

- A **`Store`** se conecta ao `root reducer` para descobrir como lidar com seu estado.
- Os estados (**`states`**) s√£o imut√°veis, **read-only**;
- Mudan√ßas s√£o feitas com **pure functions**;
- **`View`** possui 3 novos conceitos para manipular as conex√µes dos **`Stores`**:
  - **`provider:`** um wrap da √°rvore de componentes, torna mais f√°cil os componentes filhos se conectarem usando o connect;
  - **`connect():`** √© uma fun√ß√£o do Redux, para que caso um componente deseje coletar informa√ß√µes de um estado de outro componente, ele se envolve nessa fun√ß√£o;
  - **`selector:`** √© uma fun√ß√£o que define quais estados do Redux queremos passar como props;



### 4.3 **Programando com `Redux`**

‚Äã	Para instalar, basta seguir as instru√ß√µes no **[site oficial](https://redux.js.org/introduction/getting-started)**, utilizando **`Yarn`** ou **`NPM`**. No nosso caso que usamos **`NPM`**, ser√°: `react-redux` | `--save-dev redux-devtools`; O `dev-tools`, √© uma extens√£o do chrome para que possamos verificar o comportamento do Redux dentro da nossa aplica√ß√£o.

‚Äã	Para implementar o **`Redux`**, vamos conferir 4 arquivos diferentes.

#### `Index.js`

‚Äã	Nossas configura√ß√µes para utilizar o **`REDUX`**.

```javascript
// COMPONENT: Index.js
// OBJ: DIO index config to use REDUX.

import React from 'react';
import ReactDOM from 'react-dom';
import App from './App';
import * as serviceWorker from './serviceWorker';
import { Provider } from 'react-redux';
import { createStore } from 'redux';
import { reducer } from './redux/reducers';

// 'createStore' is a dependency called by 'createStore REDUX'
// We need to create a 'Store', and associate 'Reducers' to our 'Store'
const store = createStore( 
	reducer, // thats our reducer
    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__() // standard line to connect REDUX-DEVTOOLS
);

ReactDOM.render(
    // We need to create a 'Provider' to wrap our components at Store
    <Provider store={store}>
    	<App />
    </Provider>, document.getElementById('root');
    )
    
serviceWorker.unregister();
```



#### `Counter.js`

‚Äã	O componente que far√° os '**pedidos**' para que a '**store**' fa√ßa as altera√ß√µes. Repare nos pedidos **`increment`** e **`decrement`**, na qual utilizam o termo "dispatch"... o dispatch aqui n√£o significa que o m√≥dulo do **`dispatch`** foi mantido, por motivos de engenharia, a equipe do react resolveu usar essa terminologia que nada tem a ver com os t√≥picos anteriores.

‚Äã	Tamb√©m vale destacar a fun√ß√£o **`mapStateToProps`**, ela √© respons√°vel por relacionar listar os **`props do componente local`**, relacionado a seus estados. E com o **`Connect()`** , relacionar esas props a nossa **`store`** .

```javascript
// COMPONENT: Counter.js
// OBJ: DIO component thats use REDUX to map our state counter to our 'Store'.

import React from 'react';
import { connect } from 'react-redux';

class Counter extends React.Component {
    state = { count: 0 } // state init to span props.count
    
    // these 'dispatch' are not implements, only 'order' to make an action called 'INCREMENT' or 'DECREMENT'. These implementations will be maked by REDUX components. Here, there is read-only.
    increment = () => {
        this.props.dispatch({ type: 'INCREMENT' });
    }
    
    decrement = () => {
        this.props.dispatch({ type: 'DECREMENT' });
    }
    
    render() {
        return (
        	<div>
            	<h2>Counter</h2>
            	<div>
            		<button onClick={this.decrement}>-</button>
					<span>{this.props.count}</span>
            		<button onClick={this.increment}>+</button>
				</div>
			</div>
        )
    }
}

// Para que a aplica√ß√£o saiba que esse estado corresponde ao valor count da nossa aplica√ß√£o
function mapStateToProps(state) {
    return  {
        // Each field in the object will become a prop for your actual component
        // The values in the fields will be used to determine if your component needs to re-render
        // local props: obtained by state....
        count: state.count
        
        // in this case, component will receive: props.count
    };
}

export default connect(mapStateToProps)(Counter);
```



#### `Reducer.js`

‚Äã	Este √© o arquivo do `Redux` respons√°vel pela execu√ß√£o dos pedidos feitos nos nossos componentes, pois verifica qual action foi requisitada. Entretanto, √© necess√°ria que a action j√° tenham sido listada no arquivo actions.

```javascript
// REDUX ACTION FILE: reducer.js
// OBJ: DIO example of their 'reducer' redux files.

import { INCREMENT, DECREMENT } from '/actions';

const initialState = {
    count: 0 // init state of our store
}

export function reducer(state = initialState, action) {
    switch(action.type) {
        case INCREMENT:
            return {
                count: state.count + 1
            };
        case DECREMENT:
            return {
                count: state.count - 1
            };
        default:
            return state;
    }
}
```



#### `Actions.js`

‚Äã	Este √© o arquivo respons√°vel criar as ACTIONS, e dizer o que elas retornam. Nos nossos casos, uma string.

```javascript
// REDUX ACTION FILE: actions.js
// OBJ: DIO example of their 'action' redux files.

export const INCREMENT = 'INCREMENT' // Return a string
export const DECREMENT = 'DECREMENT'
```



### 4.4 Conceitos de Imutabilidade

‚Äã	A Imutabilidade das vari√°veis no JavaScript afetam diretamente a forma como o REDUX implementa seus pedidos, portanto √© importante que esclare√ßamos suas caracter√≠sticas.

- Uma vez criada, uma cole√ß√£o n√£o pode ser alterada.
- Novas cole√ß√µes podem ser criadas a partir de uma cole√ß√£o anterior e uma muta√ß√£o (setter) como um conjunto.
- Novas cole√ß√µes s√£o criadas usando o m√°ximo poss√≠vel da estrutura original, reduzindo a c√≥pia e aumentando a performance.

**Benef√≠cios:**

- Performance;
- Programa√ß√£o mais simples;
- Debugging mais simples (detec√ß√£o de mudan√ßas);

‚Äã	Trazendo esse conceito para a realidade do **`React`**, a **imutabilidade** proporciona um ganho de performance significativo. Para conseguir essa "fa√ßanha", podemos usar o **`shouldComponentUpdate`**, **`React.PureComponent`**, respons√°veis por nos fornecer formas melhores de controlar quando um componente deve ser atualizado.

**shouldComponentUpdate:**

```javascript
// COMPONENT: CounterButton.js
// WHAT THIS WILL DO? Every click, i'll change the counter or color
// OBJ: DIO example of shouldComponentUpdate use.

class CounterButton extends React.Component {
    constructor(props) {
        super(props);
        this.state = {count: 1};
    }
    
    shouldComponentUpdate(nextProps, nextState) {
        // we are apply conditions to render only when return true
        if (this.props.color !== nextProps.color) {
            return true;
        }
        if (this.state.count !== nextState.count) {
            return true;
        }
        return false; // without change, don't need to render our component again
    }
    
    render() {
        return (
        	<button
            	color = {this.props.color}
				onClick = {() => this.setState(state => ({count: state.count + 1}))}>
				Count: {this.state.count}
			</button>
        );
    }
}
```

**React.PureComponent:**

```javascript
// COMPONENT: CounterButton.js
// WHAT THIS WILL DO? Every click, i'll change the counter or color
// OBJ: DIO example of React.PureComponent use.

class CounterButton extends React.PureComponent {
    constructor(props) {
        super(props);
        this.state = {count: 1};
    }
    
    render() {
        return (
        	<button
            	color={this.props.color}
				onClick={() => this.setState(state => ({count: state.count + 1}))}>
			</button>
        );
    }
}
```

‚Äã	Para tornar estruturas mais imut√°veis, √© recomendado a utiliza√ß√£o do **`Immutable.js`**, a qual torna a implementa√ß√£o mais pr√°tica e permite c√≥pias preservando a imutabilidade das declara√ß√µes.

```javascript
// OBJ: DIO example of Immutable.js use.

const SomeRecord = Immutable.Record({ foo: null });
const x = new SomeRecord({ foo: 'bar' });
const y = x.set('foo', 'baz'); //.set method will create a copy from x, but a real copy from it!
const z = x.set('foo', 'bar');
x === y; // false
x === z; // true
```



## :eight_spoked_asterisk: 5. Comunica√ß√£o Avan√ßada Entre Aplica√ß√µes

Agora, vamos abordar de forma mais profunda tanto sobre a **conex√£o da nossa aplica√ß√£o com um servidor**, quanto a **interconex√£o entre os pr√≥prios componentes** da aplica√ß√£o.

As **`APIs HTTP`** servem para conectar um ou mais servidores HTTP. No mercado atual, em especial para **`React`**  **Fetch API** e **Axios**, cujos m√©todos mais conhecidos s√£o:

- **`GET`**: m√©todo respons√°vel por **pegar os dados**;
- **`POST`**: m√©todo respons√°vel por **cadastrar um novo dado**;
- **`DELETE`**: m√©todo respons√°vel por, como o pr√≥prio nome j√° sugere, **deletar um dado**;
- **`PUT`**: m√©todo respons√°vel por **atualizar um dado**;



### 5.1 Fetch API

A [**`Fetch API`**](https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API) fornece uma interface para buscar recursos (por exemplo, em toda a rede). Parecer√° familiar para qualquer pessoa que tenha usado XMLHttpRequest, por√©m a nova API oferece um conjunto de recursos mais poderoso e flex√≠vel.

Algumas **caracter√≠sticas**:

- Nativa do Browser;
- Oferece uma alternativa ao XMLHttpRequest() e jQuery.ajax();
- Suporte a Service Workers;
- N√£o envia nem recebe cookies (precisa definir a op√ß√£o credentials);
- N√£o rejeita o status do erro HTTP;

Antes de partir para os exemplos, lembre-se do conceito das **`Promises`** de JavaScript, pois os m√©todos de **`Fetch`** retornam uma **`promise`** . 

Resolvemos a promisse parciando ela para, nesse caso, json. Para somente em seguida obter o dado de fato (ou o erro).

 Exemplos de invoca√ß√µes dos m√©todos utilizando **`FETCH API`**:

**GET**

```javascript
// OBJ: Example of GET method implementation using FETCH API.

// The GET method is called by default
fetch('link')
	.then(response => response.json())
	.then(data => {
    	alert(`Here your data return: ${data}`);
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```

**POST**

```javascript
// OBJ: Example of POST method implementation using FETCH API.

const addData = { firstName: 'Heleieth', lastName: 'Saffioti'};

fetch('link', {method: 'post', body: JSON.stringfy(addData)}) // body instaly convert to text
	.then(response => response.json())
	.then(data => {
    	alert(`Here your data return: ${data}`); // print the new data with inserted data
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```

**DELETE**

```javascript
// OBJ: Example of DELETE method implementation using FETCH API.

const deleteData = { firstName: 'S√¥nia', lastName: 'Guimar√£es'};

fetch('link', {method: 'delete'})
	.then(response => response.json())
	.then(data => {
    	alert(`Here your data return: ${data}`); // print the new data with deleted data
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```

**PUT**

```javascript
// OBJ: Example of PUT method implementation using FETCH API.

const updateData = { firstName: 'S√¥nia', lastName: 'Guimar√£es'};

fetch('link', {method: 'put', body: JSON.stringfy(updateData)})
	.then(response => response.json())
	.then(data => {
    	alert(`Here your data return: ${data}`); // print the new data with updated data
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```



### 5.2 Axios LIB 

O [**`Axios`**](https://axios-http.com/docs/intro) √© um cliente HTTP baseado em [promisses](https://javascript.info/promise-basics) para [`node.js`](https://nodejs.org/) e o navegador. √â isom√≥rfico (= pode ser executado no navegador e no nodejs com a mesma base de c√≥digo). No lado do servidor ele usa o m√≥dulo http node.js nativo, enquanto no cliente (navegador), ele usa XMLHttpRequests.

Algumas **caracter√≠sticas**:

- Lib de HTTP API;
- Cross-browser (pode trabalhar com essa lib mesmo em navegadores mais antigos);
- Pode monitorar o progresso de um request;
- Melhor tratamento de erros;
- Melhor teste;
- Tem um suporte bastante limitado para [**Progressive Web Apps - PWAs**](https://www.digitalhouse.com/br/blog/o-que-e-pwa);

Por ser uma biblioteca de terceiros, sua aplica√ß√£o deve ser **instalada** utilizando **`npm`** ou **`yarn`**.

 Exemplos de invoca√ß√µes dos m√©todos utilizando **`AXIOS`**:

**GET**

```javascript
// OBJ: Example of GET method implementation using AXIOS LIB HTTP API.

import axios from 'axios';

axios.get('link')
	// then(response => response.json()) | We don't need to solve the promisse pane
	.then(data => {
    	alert(`Here your data return: ${data}`);
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```

**POST**

```javascript
// OBJ: Example of POST method implementation using AXIOS LIB HTTP API.

import axios from 'axios';

axios.post('link', {
    firstName: 'Heleieth',
    lastName: 'Saffioti'
})
	.then(data => {
    	alert(`Here your data return: ${data}`); // print the new data with inserted data
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```

**DELETE**

```javascript
// OBJ: Example of DELETE method implementation using FETCH API.

import axios from 'axios';

axios.delete('link')
	.then(data => {
    	alert(`Here your data return: ${data}`); // print the new data with deleted data
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```

**PUT**

```javascript
// OBJ: Example of PUT method implementation using FETCH API.

import axios from 'axios';

axios.put('link', {
    firstName: 'S√¥nia',
    lastName: 'Guimar√£es'
})
	.then(data => {
    	alert(`Here your data return: ${data}`); // print the new data with updated data
	})
	.catch(error => {
    	alert('Oops! An error as occur: ' + error);
	})
```



### 5.3 `Redux` e a Imutabilidade

‚Äã	Qual a rela√ß√£o do conceito de Imutabilidade com o **`Redux`**? Para usarmos o **`Redux`**, a **imutabilidade** √© um **pr√© requisito!**

- **`Redux`** e **`React-Redux`** utilizam compara√ß√µes rasas para fazer o mantenimento das **`Stores`**. E como temos somente uma √∫nica **`Store`**, para atualizar o render √© utilizada estas compara√ß√µes rasas;
- Manipula√ß√£o de dados mais segura;
- Time-travel debugging;
- Os **`Reducers`** dividem o objeto de estados em dom√≠nios por uma chave;
- **`combineReducers`** checa mudan√ßas usando compara√ß√£o rasa: fazem a intera√ß√£o nos reducers, criam um novo objeto de estados a partir dos estados retornados por cada reducer;
- **`connect()`** gera componentes que fazem compara√ß√£o rasa com o estado root;
- Retornam o valor para a fun√ß√£o **`mapStateToProps`**, verificando aqueles que precisam de uma opera√ß√£o de re-render.

Mas porque o **`Redux`** n√£o funciona com **objetos mut√°veis afinal**? Mudan√ßas no estado n√£o s√£o permitidas, portanto ainda que voc√™ tente alterar o state, nada ocorrer√°.



### 5.4 Middlewares

‚Äã	Pode ser um pouco confuso de entender esse conceito, mas basicamente √© um "interceptador" que te permite fazer tratativas antes que uma **`action`** do **`Redux`** seja de fato executada no **`Reducer`**. Ele entra como uma esp√©cie de "filtro" entre a action e o reducer, como demonstrado no esquema abaixo.

<img src="https://3.bp.blogspot.com/-fSl2gaKwvCk/WyT6eTNPt2I/AAAAAAAAB-4/d185djbzgpY-f_tn4PLQIIADaDbVCdy2wCLcBGAs/s1600/redux-architecture-overview-middleware.png" />



**Mas porque utilizar um `Middleware`?**

‚Äã	N√£o h√° necessidade de achar estranho, esse conceito √© extremamente comum nas aplica√ß√µes. Imagine por exemplo, que voc√™ deseja informar ao usu√°rio que a a√ß√£o est√° em execu√ß√£o, ou que voc√™ queira antes de executar a a√ß√£o, confirmar "algumas coisas" para saber se deve seguir a a√ß√£o, ou tomar um rumo diferente. √â para isso que o **`Middleware`** serve, tratar a a√ß√£o e fazer o que voc√™ achar necess√°rio.

‚Äã	A **DIO**, apresentou v√°rios modelos para um esqueleto de **`Middleware`**, visando **tratamentos de erros**, **reutiliza√ß√£o de c√≥digo**, **simplifica√ß√£o** e **facilidade de implementa√ß√£o**, esse foi o resultado final.

```javascript
// OBJ: DIO example of a best Middleware Implementation.

/*
	The code below have the same structure as the following:
		function logger(store) { 
			return function(next) {
				return function (action) {
					...our code... 
				}
			}
		}
*/
const logger = store => next => action { 
	// These "functions-inside-functions" is necessary so that we can handle the action, allow the execution to continue (next) and save the execution result in the Store!
    console.log('dispatching', action); // return the action has been executed
    let result = next(action); // The next(action), will allow execution to continue
    console.log('next state'), store.getState())
    return result;
}

const crashReporter = store => next => action => {
    try {
        return next(action);
    } catch (err) {
        console.log error('Caught an exception!', err)
        Raven.captureException(err, {
            extra: {
                action,
                state: store.getState()
            }
        })
        throw err
    }
}
```

‚Äã	Uma vez que o conceito de **`Middleware`** √© altamente utilizado,  bibliotecas sugiram para apoiar esse processo. Para efeito de registro, os mais utilizados s√£o: [**`Redux-Thunk`**](https://github.com/reduxjs/redux-thunk) e [**`Redux-Saga`**](https://redux-saga.js.org/);



## :name_badge: 6. Conceitos Aplicados a Qualidade de C√≥digo e Automa√ß√£o de Testes em `React`

### 6.1 `TDD` Test-Driven Development

‚Äã	**`TDD`** √© a sigla para Test Driven Development, que em portugu√™s significa um m√©todo de **Desenvolvimento Orientado por Testes**. Esse √© um m√©todo muito comum atualmente,ele se baseia na aplica√ß√£o de pequenos ciclos de repeti√ß√µes, no qual em cada um deles, um teste √© aplicado. 

‚Äã	O objetivo √© desenvolver uma fun√ß√£o que permita que esse teste tenha um resultado positivo. Ou seja, a fun√ß√£o est√° pronta para ser implementada. 



**CICLO DE DESENVOLVIMENTO**

‚Äã	Com ciclo voc√™ se mant√™m organizado sobre como codificar e executar os testes automatizados.

‚Äã	Pode parecer que o **`TDD`** inverte a ordem das etapas. Mas, ao final, voc√™ ver√° que tudo faz sentido. Sendo assim, h√° **3 principais fases** no ciclo de desenvolvimento desse m√©todo. Veja:

1. **Red**: escrevemos um teste que vai falhar (natural, pois o c√≥digo ainda n√£o existe);
2. **Green**: fazemos o ajuste necess√°rio, conforme o resultado esperado, at√© fazer o teste passar;
3. **Refactor**: refatoramos o c√≥digo, retirando duplicidade, renomeando vari√°veis, usando padr√µes conhecidos, entre outras a√ß√µes.

‚Äã	Assim, para cada funcionalidade do programa, repetimos o ciclo acima. √â por isso que a t√©cnica se encaixa perfeitamente na metodologia XP. Afinal de contas, **o TDD e seu significado est√£o muito presentes em pequenos ciclos de repeti√ß√µes.** Ou seja, para cada funcionalidade do sistema, os Devs criam um teste que repete a sequ√™ncia Red>Green>Refactor.

<img src="https://coodesh.com/blog/wp-content/uploads/2021/04/TDD-1152x648.png" />



**BIBLIOTECAS**

‚Äã	Para a execu√ß√£o do m√©todo **`TDD`** existem v√°rias bibliotecas que apoiam esse processo, dentre os quais os mais utilizados s√£o:

- **1¬∫ [`React-testing-Library`](https://testing-library.com/docs/react-testing-library/intro/)**, a mais recomendada pela comunidade do **`React`** por j√° possuir tamb√©m suporte para testar **`hooks`**;
- **2¬∫ [Jest](https://jestjs.io/pt-BR/)**, vem por padr√£o ao utilizar o comando **`create-react-app`**;
- **3¬∫ `Shallow`**;
- **4¬∫ [`Enzyme`](https://enzymejs.github.io/enzyme/)**;
- **5¬∫ [`Chai`](https://www.chaijs.com/)**;
- **6¬∫ [`Mocha`](https://mochajs.org/)**;
- **7¬∫ [`Selenium`](https://www.selenium.dev/)**;
- **8¬∫ [`Puppeteer`](https://pptr.dev/)**;



**IMPLEMENTANDO TESTES `TDD` NA PR√ÅTICA:**

**`JEST`**

‚Äã	**`jEST`**, utiliza a biblioteca JavaScript [**`Jasmine`**](https://jasmine.github.io/) para escrever os testes. Essa √© a estrutura b√°sica de um teste:

```javascript
// OBJ: Default strucute of a test with Jest

describe("A suite is just a function", function() { // description what will be tested
    var a;
    
    it("and so is a spec", function() { // units tests, every test is called by a 'it' with other descritption
        a = true;
        
        expect(a).toBe(true); // line code will check if a is true
    });
});
```

‚Äã	Agora vamos aplicar um teste num componente b√°sico de soma utilizando **`Jest`**:

```javascript
// OBJ: test a functino sum a + b with Jest;

// FUNCTION CODE
function soma (a, b) {
    return a + b
}

// TEST OUR FUNCTION
import { soma } from './soma';

describe('testing sum function', () => {
    it('The sum need result 3', () => {
        const res = soma(1, 2); // injecting arguments
        expect(res).toBe(3); // check result
    })
})
```



**`React Testing Library`**

‚Äã	Antes de utilizar, lembre-se que voc√™ deve instalar suas depend√™ncias com `yarn` ou `npm`! Para o npm, utilize:

- `npm install --save-dev @testing-library/react`  - adiciona o react-testing-library;
- `npm install --save-dev @testingk-library/jest-dom/extended-expect` - adiciona mais formas de fazer a checagem final nos componentes;

```javascript
// Component: Basic.js
// OBJ: this component will receive a name and return the name. Test it with react-testing-library.

// THE COMPONENT
import React from 'react';

const Basic = ({ name }) => (
	<p>Meu nome √© { name }</p>
)

export default Basic;

// THE TEST
import React from 'react'
import Basic from './Basic';
import { render } from '@testing-library-react';
import '@testing-library/jest-dom/extend-expect';

describe('Testing Basic component', () => {
    it('The component must be render completely', () => {
        const { baseElement } = render(<Basic name="Lilith" />); // injecting value
        expect(baseElement).toHaveTextContent('My name is Lilith'); // testing if our value appear completely
    })
})
```



### 6.2 `BDD` Behavior-Driven Development

‚Äã	**`BDD`** √© a sigla para Behavior Driven Development, que em portugu√™s significa um m√©todo de **Desenvolvimento Orientado ao Comportamento**. 

‚Äã	O **`BDD`** utiliza um conceito de metodologia que prioriza o compartilhamento pela equipe de desenvolvimento, pelo time da qualidade e pelo pessoal da √°rea de neg√≥cios. Como resultado, tem-se um produto que responde √† expectativa do cliente, com a otimiza√ß√£o do tempo de todos os envolvidos no processo. Ele une a **especifica√ß√£o, teste automatizado** e a **premissa de teste** para ter a certeza de que o projeto est√° completamente de acordo.

‚Äã	Para funcionar, √© necess√°rio que as especifica√ß√µes do projeto sejam escritas na **sintaxe** **`Gherkin`**, ela √© uma linguagem de steps para definir cen√°rios e descrever cada funcionalidade por feature (caso de uso).

**Exemplo de Sintaxe `Gherkin`:**

```gherkin
# language: pt-br
Funcionalidade: Login
	Texto com a descri√ß√£o da funcionalidade
	
Cen√°rio: Como um us√°rio v√°lido, posso logar no sistema
	Dado que estou na tela de login
	Quando digitar credenciais v√°lidas
	E clicar no bot√£o de login
	Ent√£o devo acessar a Home do sistema
	
Cen√°rio: Como um usu√°rio inv√°lido, devo visualizar uma mensagem de erro e continuar na p√°gina de Login
	Dado que estou na tela de login
	Quando digitar credenciais inv√°lidas
	E clicar no bot√£o login
	Ent√£o devo ver uma mensagem de erro
	E devo estar na tela de login
```



**BIBLIOTECAS:**

‚Äã	As bibliotecas mais utilizadas dentro do **`React`** para aplicar o **`BDD`** s√£o:

- [**`Jest-cucumber`**](https://cucumber.io/) - √© uma extens√£o para o Jest;
- [**`Chai`**](https://www.chaijs.com/);



**IMPLEMENTANDO TESTES `BDD` NA PR√ÅTICA:**

**`CUCUMBER`**

```gherkin
#This 'feature test' will be imported in our sum test
#All the following names must be the same will be used on our code!
Feature: Sum Numbers
	Sum two numbers
	
	Scenario: sum 1 + 2 result in 3
		Given 1
		When sum 2
		Then result in 3
```

```javascript
// OBJ: test sum function with bdd, using the feature above.

import { defineFeature, loadFeature } from 'jest-cucumber';
const feature = loadFeature('feature.path');

describe('testing sum function', () => {
    it('The sum must result in 3', () => {
        const res = soma(1, 2);
        expect(res).toBe(3);
    })
})

defineFeature(feature, test => {
    test('sum 1 + 2 result in 3', ({given, when, then}) => {
        let x;
        let z;
        
        given('1', () => {
            x = 1;
        });
        
        when('sum 2', () => {
            z = soma(x, 2);
        });
        
        then('result in 3', () => {
            expect(z).toBe(3);
        });
    });
});
```



### 6.3 Debugging

‚Äã	J√° √© de conhecimento o que significa essa palavra, entretanto, vamos aprofundar sobre dicas para debugar o nosso c√≥digo, porque a depura√ß√£o direta no c√≥digo n√£o √© o √∫nico m√©todo. As **ferramentas mais utilizadas para depurar s√£o**:

- **`Chrome Devtools`** (ou **`Mozilla`**);
- **`Redux Devtools`**, serve em especial para monitorar as **`Stores`**;
- **`React Devtools`**;

**#. Escreva 'Debugging' no arquivo fonte**;

‚Äã	Se voc√™ escrever 'Debugging' no meio do c√≥digo, o Devtools automaticamente reconhecer√° aquela linha como ponto inicial de debugging, permitindo a execu√ß√£o step-by-step.

**#. Veja a hierarquia de componentes at√© o render**;

‚Äã	Voc√™ pode checar o 'caminho' de componentes executados para finalmente, renderizar o que v√™ na tela. Utilizando o **`React Devtools`**, haver√° uma aba "**Components**" no **`Chrome Devtools`**, nela n√≥s somos capazes de inspecinar cada parte do componente, desta forma, conseguindo identificar qual componente renderiza determinados elementos.

‚Äã	Ele tamb√©m fornece informa√ß√µes relacionadas a quais componentes est√£o conectadas pelo **REDUX**!

**#. Veja as mudan√ßas que s√£o provocadas nas `Stores`, pelas a√ß√µes executadas do `REDUX`**;

‚Äã	Com o **`Redux Devtools`**, voc√™ pode conferir as mudan√ßas de estado ocorridas, as a√ß√µes executadas bem como quem e a forma como elas foram implementadas! Com ele, tamb√©m podemos **testar o efeito do reducer**.

**#. Analise a `Performance` da sua aplica√ß√£o`**;

‚Äã	Na aba **`Audits`**, voc√™ pode executar um teste de performance da sua aplica√ß√£o. Ele avalia par√¢metros de **performance**, **acessibilidade**, **boas pr√°ticas**, **SEO** e se √© **PWA ou n√£o**.

‚Äã	Al√©m disso, voc√™ tamb√©m pode acessar a aba **`Performance`**, para identificar quais elementos de fato **consomem mais recurso computacional**, tamb√©m destaca o **tempo** em que cada componente foi carregado.



### 6.4 Tratamento de Erros

‚Äã	O tratamento de erros serve para trazer mais resili√™ncia √† aplica√ß√£o, com isso, queremos dizer que os erros devem ser compreens√≠veis caso estes ocorram. Tratar os erros tamb√©m garantem mais seguran√ßa para a aplica√ß√£o!

**Exemplos:**

```javascript
// OBJ: error function fix.

// PROBLEM: this function can accept null and undefined values. How we can improve our code?
export const soma = (a, b) => a + b;

// RESOLUTION EXAMPLE
export const somaSegura = (a, b) => {
    if (typeof a ===number && typeof b === number) { // sum only if arguments is a number
        return a + b;
    } else {
        return -1;
    }
}
```



**Em formul√°rios:**

- Garantir que as **entradas** sejam **condizentes com o que est√° sendo pedido**, textos para textos, n√∫meros para n√∫meros;
- Para **dados com formatos personalizados** o CPF ou a data, adicionar uma formata√ß√£o personalizada;
- **Autenticar** a exist√™ncia dos **dados**, como do CPF por exemplo;
- **Restringir** a entrada de **caracteres maliciosos**, ou palavras ofensivas;
- Colocar um **feedback** para o usu√°rio ter conhecimento dos par√¢metros de preenchimento exigidos;



**Em retornos de APIS:**

- Se a chamada da API falhar, o ideal √© que **o retorno seja tratado**, por exemplo:

  ```javascript
  function displayMessage(code) {
      if (code === 401) {
          alert('Fa√ßa login para continuar')
      }
      if (code === 404) {
          alert('Recurso n√£o encontrado.')
      }
      if(code === 500) {
          alert('Erro interno de servidor.')
      }
  }
  ```

- N√£o exponha o **comportamento do seu servidor**. Por exemplo, se o campo de usu√°rio ou senha est√° inv√°lido, n√£o informe que s√≥ a senha, ou s√≥ o usu√°rio est√° inv√°lido, pois isso abrir√° brecha para que pessoas mal intencionadas saibam quais informa√ß√µes est√£o corretas.



**Em retornos COMPONENTES:**

- Em JS, usamos **PropTypes**;
- Podemos usar linguagens tipadas como **TypeScript**, definindo interfaces;

```javascript
import React from 'react';
import PropTypes from 'prop-types';

export const Basic = ({ name }) => (
	<p>Meu nome √© {name}</p>
)

Basic.propTypes = {
    name: PropTypes.string // check if name is string!
}
```

